<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Create and Alter Tables in MariaDB and MySQL &middot; Tim Trice</title>
        <meta name="description" content="Create, Alter and Drop Databases in MariaDB and MySQL">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="generator" content="Hugo 0.30.2" />
        <meta name="robots" content="index,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta property="og:title" content="Create and Alter Tables in MariaDB and MySQL">
<meta property="og:description" content="Create, Alter and Drop Databases in MariaDB and MySQL">
<meta property="og:type" content="article">
<meta property="og:url" content="/sql/create-alter-tables/">
        <link rel="stylesheet" href="../../dist/styles.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        
    </head>
    <body>
        
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-1507390-26', 'auto');
ga('send', 'pageview');
</script>


        <div id="wrapper">
            <header class="site-header">
                <div class="container">
                    <div class="site-title-wrapper">
                        
                            <h1 class="site-title">
                                <a title="Tim Trice" href="../../">Tim Trice</a>
                            </h1>
                        
                        <a class="button-square" href="../../index.xml"><i class="fa fa-rss"></i></a>
                        
                            <a class="button-square button-social hint--top" data-hint="Twitter" title="Twitter" href="https://twitter.com/timtrice">
                                <i class="fa fa-twitter"></i>
                            </a>
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Github" title="Github" href="https://github.com/timtrice">
                                <i class="fa fa-github-alt"></i>
                            </a>
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Stack Overflow" title="Stack Overflow" href="http://stackoverflow.com/users/2576935/timtrice">
                                <i class="fa fa-stack-overflow"></i>
                            </a>
                        
                        
                            <a class="button-square button-social hint--top" data-hint="LinkedIn" title="LinkedIn" href="https://www.linkedin.com/in/timtrice/">
                                <i class="fa fa-linkedin"></i>
                            </a>
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Email" title="Email" href="mailto:tim.trice@gmail.com">
                                <i class="fa fa-envelope"></i>
                            </a>
                        
                    </div>

                    <ul class="site-nav">
                        
    <li class="site-nav-item">
        <a title="Python" href="../../python/">Python</a>
    </li>

    <li class="site-nav-item">
        <a title="R" href="../../r/">R</a>
    </li>

    <li class="site-nav-item">
        <a title="SQL" href="../../sql/">SQL</a>
    </li>

    <li class="site-nav-item">
        <a title="Projects" href="../../projects/">Projects</a>
    </li>

    <li class="site-nav-item">
        <a title="Blog" href="../../">Blog</a>
    </li>

    <li class="site-nav-item">
        <a title="About" href="../../about/">About</a>
    </li>

                    </ul>
                </div>
            </header>

            <div id="container">


<div class="container">
    <article class="post-container">
        <header class="post-header">
    <h1 class="post-title">Create and Alter Tables in MariaDB and MySQL</h1>
    
        <p class="post-description">Create, Alter and Drop Databases in MariaDB and MySQL</p>
    
</header>

        <div class="post-content clearfix">
    

    <div id="TOC">
<ul>
<li><a href="#planning">Planning</a></li>
<li><a href="#create-tables">Create Tables</a></li>
<li><a href="#explain-tables">Explain Tables</a></li>
<li><a href="#alter-tables">Alter Tables</a></li>
<li><a href="#show-tables">Show Tables</a></li>
<li><a href="#database-server-info">Database Server Info</a><ul>
<li><a href="#mariadb">MariaDB</a></li>
<li><a href="#mysql">MySQL</a></li>
</ul></li>
</ul>
</div>

<div id="planning" class="section level3">
<h3>Planning</h3>
<p>Creating tables is significantly more complex than <a href="../../mariadb/basics/create-a-database.html">creating databases</a>. There are several factors that we have to consider with our data.</p>
<ul>
<li><p>What variables must we maintain in the table?</p></li>
<li><p>What are the data types of the variables?</p></li>
<li><p>Are there any unique variables?</p></li>
<li><p>Will we have any other tables that rely on our current table?</p></li>
</ul>
<p>The assumption, of course is that our data has already been cleaned (assuming we have it stored elsewhere like a spreadsheet or another database). This is because it will be easier to move the data into the new tables if it is already cleaned rather than moving dirty data in and thinking, “I’ll clean it later”. Clean it now or you never will!</p>
<p>Be encouraged to clean data. Why? This is the best way to get to know the nuances of your dataset. You get a clear understanding of the relationships between variables and tables and it will help you immensely when building new statements and queries. Additionally, moving clean data to a new system is far easier than moving dirty data and then cleaning it. You would need to alter columns, data types and more and it’s just a mess. Remember, “garbage in, garbage out”.</p>
<p>I will assume our data has already been cleaned and we already know the data types for each variable.</p>
<table>
<thead>
<tr class="header">
<th>actor_id</th>
<th>first_name</th>
<th>last_name</th>
<th>last_update</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>PENELOPE</td>
<td>GUINESS</td>
<td>2006-02-15 04:34:33</td>
</tr>
<tr class="even">
<td>2</td>
<td>NICK</td>
<td>WAHLBERG</td>
<td>2006-02-15 04:34:33</td>
</tr>
<tr class="odd">
<td>3</td>
<td>ED</td>
<td>CHASE</td>
<td>2006-02-15 04:34:33</td>
</tr>
<tr class="even">
<td>4</td>
<td>JENNIFER</td>
<td>DAVIS</td>
<td>2006-02-15 04:34:33</td>
</tr>
<tr class="odd">
<td>5</td>
<td>JOHNNY</td>
<td>LOLLOBRIGIDA</td>
<td>2006-02-15 04:34:33</td>
</tr>
</tbody>
</table>
<p>I won’t get into too much discussion on data types; it seems like there are literally thousands. The <a href="https://mariadb.com/kb/en/mariadb/data-types/">MariaDB</a> and <a href="http://dev.mysql.com/doc/refman/5.7/en/data-types.html">MySQL</a> do a good enough job of that anyway.</p>
<p>Nonetheless, we’ve determined the following data types for our four variables:</p>
<ul>
<li><p><code>actor_id</code> SMALLINT</p></li>
<li><p><code>first_name</code> VARCHAR(45)</p></li>
<li><p><code>last_name</code> VARCHAR(45)</p></li>
<li><p><code>last_update</code> TIMESTAMP</p></li>
</ul>
<p>We have determined that <code>actor_id</code> is to be a unique variable; no two rows will have the same value. Additionally, that variable will act as a “key” if we need to join two or more tables together or if we want to delete a specific record.</p>
<p>We have also decided that no field can be empty. If attempting to insert empty values we want our database to reject that record.</p>
<p>Lastly, we want <code>last_update</code> to reflect the last time the record was modified.</p>
<p>We have also determined that of the two table engines we can use, <a href="http://dev.mysql.com/doc/refman/5.7/en/myisam-storage-engine.html">MyISAM</a> and <a href="http://dev.mysql.com/doc/refman/5.7/en/innodb-storage-engine.html">InnoDB</a>, we will use the InnoDB engine as we anticipate our database becoming very large and we will be performing a lot of writing statements.</p>
<p>Our team has put together a <a href="https://dev.mysql.com/doc/sakila/en/sakila-structure.html">database model</a> and we are no ready to start building the first table, <code>actor</code>. Let’s begin!</p>
</div>
<div id="create-tables" class="section level3">
<h3>Create Tables</h3>
<p>The <code>CREATE TABLE</code> statement takes a minimum of three parameters:</p>
<ul>
<li><p>The name of the table</p></li>
<li><p>At least one variable</p></li>
<li><p>The data type for that variable.</p></li>
</ul>
<p>Things like the table engine and charset will use default settings.</p>
<p>I will build the <code>CREATE TABLE</code> statement step by step to make it clear what we are doing here. To build our initial table we would write something very simple like this:</p>
<pre class="sql"><code>CREATE TABLE `actor` (
  `actor_id` SMALLINT,
  `first_name` VARCHAR(45),
  `last_name` VARCHAR(45),
  `last_update` TIMESTAMP
);</code></pre>
<p>So let’s review what we’re doing here line by line:</p>
<ol style="list-style-type: decimal">
<li><p><q>CREATE TABLE <code>actor</code></q>: <code>actor</code> is the name of our table</p></li>
<li><p><q><code>actor_id</code> SMALLINT</q>: This is the name of our first variable. It is a SMALLINT meaning its value must be within a very small range of integers (more on that later).</p></li>
<li><p><q><code>first_name</code> VARCHAR(45)</q>: Our second variable; it may be of any length <span class="math inline">\(\le\)</span> 45 characters long.</p></li>
<li><p><q><code>last_name</code> VARCHAR(45)</q>: same as <code>first_name</code></p></li>
<li><p><q><code>last_update</code> TIMESTAMP</q>: This will be a date and time field in UTC (coordinated universal time).</p></li>
</ol>
<p>Notice that each column we name is passed as a parameter inside the parenthesis with the last variable, <code>last_update</code> missing the comma.</p>
<p>This statement gets us started but we’re not done. Remember our rules. First, none of the values can be empty. So for this we must use a <strong>NOT NULL</strong> condition on each variable. Now our statement needs to be modified:</p>
<pre class="sql"><code>CREATE TABLE `actor` (
  `actor_id` SMALLINT NOT NULL,
  `first_name` VARCHAR(45) NOT NULL,
  `last_name` VARCHAR(45) NOT NULL,
  `last_update` TIMESTAMP NOT NULL
);</code></pre>
<p>Next, recall our rule that <code>actor_id</code> is a unique “key”. In SQL this is called a <strong>PRIMARY KEY</strong>. Primary Keys are unique values that exist in a database table and are indexed to increase the speed of statements and queries. <code>actor_id</code> itself is ambiguous; if we just viewed that variable it wouldn’t tell us anything about our table.</p>
<p>But, remember from our model we have another table that we will eventually tie to <code>actor</code> (not in this article, but for the sample database we are pretending to build from scratch). <code>film_actor</code> will also have the variable <code>actor_id</code>. This variable in both tables will help us with any JOIN statements we write and help make our code a little faster.</p>
<pre class="sql"><code>CREATE TABLE `actor` (
  `actor_id` SMALLINT NOT NULL,
  `first_name` VARCHAR(45) NOT NULL,
  `last_name` VARCHAR(45) NOT NULL,
  `last_update` TIMESTAMP NOT NULL,
  PRIMARY KEY (`actor_id`),
);</code></pre>
<p>We could rewrite the above statement another way:</p>
<pre class="sql"><code>CREATE TABLE `actor` (
  `actor_id` SMALLINT NOT NULL PRIMARY KEY,
  `first_name` VARCHAR(45) NOT NULL,
  `last_name` VARCHAR(45) NOT NULL,
  `last_update` TIMESTAMP NOT NULL,
);</code></pre>
<p>Again, be consistent with how you do this. If your procedures are to add the <strong>PRIMARY KEY</strong> attribute to the same line as the variable, then do it every time.</p>
<p>Now, We already know <code>actor_id</code> is an integer (the <var>SMALLINT</var> data type). <a href="https://mariadb.com/kb/en/mariadb/smallint/">We recall</a> that <var>SMALLINT</var> can hold any integer between -32768 and 32768. But we want <code>actor_id</code> to be all non-negative numbers. We also could conceivably have far more than 32,768 actors in our database. Currently, <code>actor_id</code> is considered <strong>SIGNED</strong>; it allows negative numbers.</p>
<p>We can change that by adding the <strong>UNSIGNED</strong> attribute. This means <code>actor_id</code> must always be positive. This also means that our range has changed now from -32768:32768 to 0:65535.</p>
<pre class="sql"><code>CREATE TABLE `actor` (
  `actor_id` SMALLINT UNSIGNED NOT NULL,
  `first_name` VARCHAR(45) NOT NULL,
  `last_name` VARCHAR(45) NOT NULL,
  `last_update` TIMESTAMP NOT NULL,
  PRIMARY KEY (`actor_id`),
);</code></pre>
<p>The next step is still focused on <code>actor_id</code>. There is a way we can have MariaDB and MySQL take care of adding this data whenever we add new records: <strong>AUTO_INCREMENT</strong>. When we insert our first row of data into the table we do not need to provide a value for <code>actor_id</code>. The database will determine the last <code>actor_id</code> used. Our first record will automatically be given an <code>actor_id</code> of 1. The second record inserted will automatically be assigned 2, etc.</p>
<pre class="sql"><code>CREATE TABLE `actor` (
  `actor_id` SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  `first_name` VARCHAR(45) NOT NULL,
  `last_name` VARCHAR(45) NOT NULL,
  `last_update` TIMESTAMP NOT NULL,
  PRIMARY KEY (`actor_id`),
);</code></pre>
<p>We are done modifying <code>actor_id</code>. There is no need to modify <code>first_name</code> and <code>last_name</code>. So I focus now on <code>last_update</code>.</p>
<p>Remember this variable stores the TIMESTAMP of the date and time in UTC this variable was last modified. What we want to do first is set a <strong>DEFAULT</strong> value. <strong>CURRENT_TIMESTAMP</strong> is a build-in function that will help us with that. In some programming languages you may have a build-in function called <code>now()</code>. This returns a date/time string. <strong>CURRENT_TIMESTAMP</strong> is MariDB/MySQL’s way of doing the same.</p>
<pre class="sql"><code>CREATE TABLE `actor` (
  `actor_id` SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  `first_name` VARCHAR(45) NOT NULL,
  `last_name` VARCHAR(45) NOT NULL,
  `last_update` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`actor_id`),
);</code></pre>
<p>Now, whenever we insert a new record <code>last_update</code> will automatically be filled with the current date and time. But, this varaible isn’t a “date_created” variable; it is a <code>last_update</code>. It needs to be modified every time the record is modified.</p>
<p>We can use another clause called <code>ON UPDATE</code> and pass the same <strong>CURRENT_TIMESTAMP</strong> function. Think of it like a trigger: the database will know that whenever a record is updated to automatically update the value of <code>last_update</code>. This way we never need to specifically add the value.</p>
<pre class="sql"><code>CREATE TABLE `actor` (
  `actor_id` SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  `first_name` VARCHAR(45) NOT NULL,
  `last_name` VARCHAR(45) NOT NULL,
  `last_update` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`actor_id`),
);</code></pre>
<p>We are getting to the finish line now, so just hang in there a little bit longer.</p>
<p>Our variables are now set. Now, think back to what I said about <code>actor_id</code> and how making it a <strong>PRIMARY KEY</strong> would help make our statements and queries a little faster. Every table is capable of storing one or multiple indexes and a <strong>PRIMARY KEY</strong> variable will always be indexed.</p>
<p>In the old days we used to have local phone books for every person living in the area For those of us old enough to remember those bulky books we can recall that every individual was listed by last name first and, if the phone book was regionaly, names would be gruoped by city. This helped us find a name much faster than if the names had just been randomly added.</p>
<p>Indexes work in this manner but, <em>not for us</em>: for our database. If we do not assign any indexes to a table any statements or queries we run could potentially take a bit of time. If our table is small the time would be unnoticeable. However, as our table grows the statements would eventually slow.</p>
<p>By adding <code>actor_id</code> as a <strong>PRIMARY KEY</strong> we are giving our table some help in finding information. The values are stored, sorted and allows the database to quickly retrieve one or multiple records specifically by <code>actor_id</code>.</p>
<p>But, <code>actor_id</code> isn’t helpful for us; we do not recognize actors by an id but rather by name. So, if we wanted to find all of the films associated with an actor we wouldn’t want to filter by <code>actor_id</code> but by <code>first_name</code> or <code>last_name</code>; it is information we can determine prior to querying our database.</p>
<p>We need to help our database quickly find those records. So we can add <code>first_name</code> and <code>last_name</code> as indexes. But, there is a downside to this as well. The more indexes we have it can actually make our queries <em>slower</em>. It is a balancing act. And every table will be different. The trick is to add indexes that you know will be beneficial and ignore potential indexes that really aren’t necessary.</p>
<p>Take my name, for instance. If we had a database of every person in the United States and wanted to find all of those with the last name of Trice, we can imagine there aren’t too many. Would we search that database by first name? There are a lot more Tims out there than Trices, I can imagine.</p>
<p>Adding <code>last_name</code> as an <strong>INDEX</strong>, or a <strong>KEY</strong> (they both are the same) would help our queries be significantly faster. But we are unlikely to ever search the table by <code>first_name</code> alone so it doesn’t make sense to index that variable.</p>
<p>For our table we will add a <strong>KEY</strong> for <code>last_name</code>. We will also give that <strong>KEY</strong> a descriptive name: <code>idx_actor_last_name</code>:</p>
<pre class="sql"><code>CREATE TABLE `actor` (
  `actor_id` SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  `first_name` VARCHAR(45) NOT NULL,
  `last_name` VARCHAR(45) NOT NULL,
  `last_update` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`actor_id`),
  KEY `idx_actor_last_name` (`last_name`)
);</code></pre>
<p>Now we can be comfortable that our queries will be rather speedy but at the same time not bogged down by unnecessary information.</p>
<p>Finally, we declare the <strong>ENGINE</strong> and <strong>CHARSET</strong> of the database. This does not need to be specifically declared as defaults are set in the databases parameter files. However, it is encouraged to do so and be consistent with it; after all, any time you use default parameters you are making an assumption they are the same as another system you used. One of the most frustrating aspects of isolating technical issues is realizing it is because of something so stupid you never even considered it. And I know we’ve all be there!</p>
<pre class="sql"><code>CREATE TABLE `actor` (
  `actor_id` SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  `first_name` VARCHAR(45) NOT NULL,
  `last_name` VARCHAR(45) NOT NULL,
  `last_update` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`actor_id`),
  KEY `idx_actor_last_name` (`last_name`)
)ENGINE=InnoDB DEFAULT CHARSET=utf8;</code></pre>
<p>Our <code>CREATE TABLE</code> statement is now complete.</p>
</div>
<div id="explain-tables" class="section level3">
<h3>Explain Tables</h3>
<p>After we have ran our <code>CREATE TABLE</code> we can use <code>EXPLAIN</code> to verify (or provide info if dealing with unknown tables) our table structure:</p>
<pre class="sql"><code>EXPLAIN `actor`;</code></pre>
<p><code>EXPLAIN</code> will spit out some information on our tables like this:</p>
<pre><code>+-------------+----------------------+------+-----+-------------------+-----------------------------+
| Field       | Type                 | Null | Key | Default           | Extra                       |
+-------------+----------------------+------+-----+-------------------+-----------------------------+
| actor_id    | smallint(5) unsigned | NO   | PRI | NULL              | auto_increment              |
| first_name  | varchar(45)          | NO   |     | NULL              |                             |
| last_name   | varchar(45)          | NO   | MUL | NULL              |                             |
| last_update | timestamp            | NO   |     | CURRENT_TIMESTAMP | on update CURRENT_TIMESTAMP |
+-------------+----------------------+------+-----+-------------------+-----------------------------+</code></pre>
<p><code>EXPLAIN</code> is a synonym statement for:</p>
<pre class="sql"><code>SHOW COLUMNS FROM `actor`;</code></pre>
<p>They both produce the same output. You can examine this output to brainstorm your table and make sure you have covered every rule declared earlier.</p>
</div>
<div id="alter-tables" class="section level3">
<h3>Alter Tables</h3>
<p>Most of the time if we need to make modifications to a table we can just use the <code>ALTER TABLE</code> statement. <code>ALTER TABLE</code> is similar to <code>CREATE TABLE</code> in some aspects. For example, if we wanted to expand the allowable length of <code>first_name</code> and <code>last_name</code> we could write:</p>
<pre class="sql"><code>ALTER TABLE `actor`
  CHANGE `first_name` `first_name` VARCHAR(50) NOT NULL,
  CHANGE `last_name` `last_name` VARCHAR(50) NOT NULL;</code></pre>
<p>Notice we’ve added the <strong>CHANGE</strong> attribute as well as the original variable name twice. In english, this would be like saying “change first name to first name as a variable character of length 50 and cannot be null.” Our modified table would look like this:</p>
<pre><code>+-------------+----------------------+------+-----+-------------------+-----------------------------+
| Field       | Type                 | Null | Key | Default           | Extra                       |
+-------------+----------------------+------+-----+-------------------+-----------------------------+
| actor_id    | smallint(5) unsigned | NO   | PRI | NULL              | auto_increment              |
| first_name  | varchar(50)          | NO   |     | NULL              |                             |
| last_name   | varchar(50)          | NO   | MUL | NULL              |                             |
| last_update | timestamp            | NO   |     | CURRENT_TIMESTAMP | on update CURRENT_TIMESTAMP |
+-------------+----------------------+------+-----+-------------------+-----------------------------+</code></pre>
<p>If I wanted to add a variable: for example, maybe an agent’s name:</p>
<pre class="sql"><code>ALTER TABLE `actor`
ADD `agent` VARCHAR(50);</code></pre>
<pre><code>+-------------+----------------------+------+-----+-------------------+-----------------------------+
| Field       | Type                 | Null | Key | Default           | Extra                       |
+-------------+----------------------+------+-----+-------------------+-----------------------------+
| actor_id    | smallint(5) unsigned | NO   | PRI | NULL              | auto_increment              |
| first_name  | varchar(50)          | NO   |     | NULL              |                             |
| last_name   | varchar(50)          | NO   | MUL | NULL              |                             |
| last_update | timestamp            | NO   |     | CURRENT_TIMESTAMP | on update CURRENT_TIMESTAMP |
| agent       | varchar(50)          | YES  |     | NULL              |                             |
+-------------+----------------------+------+-----+-------------------+-----------------------------+</code></pre>
<p>On second thought, we don’t need <code>agent</code>.</p>
<pre class="sql"><code>ALTER TABLE `actor`
DROP `agent`;</code></pre>
<pre><code>+-------------+----------------------+------+-----+-------------------+-----------------------------+
| Field       | Type                 | Null | Key | Default           | Extra                       |
+-------------+----------------------+------+-----+-------------------+-----------------------------+
| actor_id    | smallint(5) unsigned | NO   | PRI | NULL              | auto_increment              |
| first_name  | varchar(50)          | NO   |     | NULL              |                             |
| last_name   | varchar(50)          | NO   | MUL | NULL              |                             |
| last_update | timestamp            | NO   |     | CURRENT_TIMESTAMP | on update CURRENT_TIMESTAMP |
+-------------+----------------------+------+-----+-------------------+-----------------------------+</code></pre>
<p>Earlier I mentioned the significance of cleaning data before inserting into a new database, and why you should not rely on <code>ALTER</code> if you chose to clean after. Let’s pretend, for example, that I wanted to modify <code>first_name</code>. But, in a rush instead of making it a length of 50 I made it a length of 5:</p>
<pre class="sql"><code>ALTER TABLE `actor`
  CHANGE `first_name` `first_name` VARCHAR(5) NOT NULL;</code></pre>
<p>You might think this operation would create an error since many of our values in <code>first_name</code> are longer than 5 characters. <strong>You would be wrong</strong>. Instead, the database will proceed with the operation. You may have noticed it told you that there were warnings so you run a query:</p>
<pre class="sql"><code>SHOW WARNINGS;</code></pre>
<pre><code>+---------+------+--------------------------------------------------+
| Level   | Code | Message                                          |
+---------+------+--------------------------------------------------+
| Warning | 1265 | Data truncated for column &#39;first_name&#39; at row 1  |
| Warning | 1265 | Data truncated for column &#39;first_name&#39; at row 2  |
| Warning | 1265 | Data truncated for column &#39;first_name&#39; at row 3  |
| Warning | 1265 | Data truncated for column &#39;first_name&#39; at row 4  |
| Warning | 1265 | Data truncated for column &#39;first_name&#39; at row 5  |
+---------+------+--------------------------------------------------+</code></pre>
<p>Your heart skips a beat and you query your data:</p>
<pre class="sql"><code>SELECT `first_name` 
FROM `actor`;</code></pre>
<pre><code>+------------+
| first_name |
+------------+
| PENEL      |
| NICK       |
| ED         |
| JENNI      |
| JOHNN      |
| BETTE      |
| GRACE      |
+------------+</code></pre>
<p>The values “Penelope”, “Jennifer”, and “Johnny” have been cut off. And that’s just the first 5 records!</p>
<p>Now, if your project’s database team is on top of things there would be a number of ways this would never happen. Or, if it did, it would be very easy to revert the changes. But, the point is: you can easily kill your data with even simple mistakes. Do not assume anything when making changes to your tables!</p>
</div>
<div id="show-tables" class="section level3">
<h3>Show Tables</h3>
<p>At any time you want to know what tables exist in your database just execute the following statement:</p>
<pre class="sql"><code>SHOW TABLES;</code></pre>
<pre><code>+----------------------------+
| Tables_in_sakila           |
+----------------------------+
| actor                      |
+----------------------------+</code></pre>
</div>
<div id="database-server-info" class="section level2">
<h2>Database Server Info</h2>
<div id="mariadb" class="section level3">
<h3>MariaDB</h3>
<pre class="sql"><code>SELECT @@version_comment AS `Version`, 
  @@version_compile_machine AS `Version Compile Machine`, 
  @@innodb_version AS `InnoDB Version`, 
  @@version_compile_os AS `Version Compile OS`;</code></pre>
<div class="knitsql-table">
<table>
<caption><span id="tab:mariadb-version">Table 1: </span>MariaDB Server Info</caption>
<thead>
<tr class="header">
<th align="left">Version</th>
<th align="left">Version Compile Machine</th>
<th align="left">InnoDB Version</th>
<th align="left">Version Compile OS</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">mariadb.org binary distribution</td>
<td align="left">x86_64</td>
<td align="left">5.7.19</td>
<td align="left">debian-linux-gnu</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="mysql" class="section level3">
<h3>MySQL</h3>
<pre class="sql"><code>SELECT @@version_comment AS `Version`, 
  @@version_compile_machine AS `Version Compile Machine`, 
  @@innodb_version AS `InnoDB Version`, 
  @@version_compile_os AS `Version Compile OS`;</code></pre>
<div class="knitsql-table">
<table>
<caption><span id="tab:mysql-version">Table 2: </span>MySQL Server Info</caption>
<thead>
<tr class="header">
<th align="left">Version</th>
<th align="left">Version Compile Machine</th>
<th align="left">InnoDB Version</th>
<th align="left">Version Compile OS</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">MySQL Community Server (GPL)</td>
<td align="left">x86_64</td>
<td align="left">5.7.20</td>
<td align="left">Linux</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

</div>

        <footer class="post-footer clearfix">
    
        <p class="post-tags">
            <span>Tagged:</span>
            
            
                <a href="../../tags/create/">CREATE</a>, 
            
                <a href="../../tags/alter/">ALTER</a>
            
        </p>
    

    <div class="share">
        
            <a class="icon-twitter" href="https://twitter.com/share?text=Create%20and%20Alter%20Tables%20in%20MariaDB%20and%20MySQL&url=%2fsql%2fcreate-alter-tables%2f"
                onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="fa fa-twitter"></i>
                <span class="hidden">Twitter</span>
            </a>
        

        
            <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=%2fsql%2fcreate-alter-tables%2f"
                onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                <i class="fa fa-facebook"></i>
                <span class="hidden">Facebook</span>
            </a>
        

        
            <a class="icon-google-plus" href="https://plus.google.com/share?url=%2fsql%2fcreate-alter-tables%2f"
              onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
              <i class="fa fa-google-plus"></i>
                <span class="hidden">Google+</span>
            </a>
        
        
            <a class="icon-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&title=Create%20and%20Alter%20Tables%20in%20MariaDB%20and%20MySQL&url=%2fsql%2fcreate-alter-tables%2f&summary=Create%2c%20Alter%20and%20Drop%20Databases%20in%20MariaDB%20and%20MySQL"
               onclick="window.open(this.href, 'linkedin-share', 'width=554,height=481');return false;">
               <i class="fa fa-linkedin"></i>
               <span class="hidden">LinkedIn</span>
            </a>
        
    </div>
</footer>
    </article>
</div>

            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="site-title-wrapper">
                    <h1 class="site-title">
                        <a title="Tim Trice" href="../../">Tim Trice</a>
                    </h1>
                    <a class="button-square button-jump-top js-jump-top" href="#">
                        <i class="fa fa-angle-up"></i>
                    </a>
                </div>

                <p class="footer-copyright">
                    <span>&copy; 2017 / Powered by <a href="https://gohugo.io/">Hugo</a></span>
                </p>
                <p class="footer-copyright">
                    <span><a href="https://github.com/roryg/ghostwriter">Ghostwriter theme</a> By <a href="http://jollygoodthemes.com">JollyGoodThemes</a></span>
                    <span>/ <a href="https://github.com/jbub/ghostwriter">Ported</a> to Hugo By <a href="https://github.com/jbub">jbub</a></span>
                </p>
            </div>
        </footer>

        <script src="../../js/jquery-1.11.3.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
        <script src="../../js/jquery.fitvids.js"></script>
        <script src="../../js/scripts.js"></script>
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    });
    </script>
    <script type="text/javascript"
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    </body>
</html>

